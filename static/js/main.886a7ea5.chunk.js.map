{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/SearchBar/SearchBar.module.css","services/image-api.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","fetchImg","query","pageNumber","url","axios","get","then","data","hits","Searchbar","onSubmit","useState","setQuery","className","styles","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","placeholder","onChange","currentTarget","ImageGalleryItem","largeImageURL","openModal","webformatURL","onClick","src","alt","ImageGalleryItemImage","MODAL_ROOT","document","querySelector","Modal","onCloseModal","children","useEffect","window","addEventListener","handleKeyPress","removeEventListener","code","createPortal","Overlay","target","role","Loader","Button","isLoading","color","height","width","visible","ImageGallery","images","fetchImages","isModalOpen","setIsModalOpen","setLargeImageURL","toggleModal","prev","map","id","length","App","setImages","setPageNumber","setIsloading","setError","scrollTo","top","documentElement","scrollHeight","behavior","options","prevState","catch","err","finally","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.886a7ea5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__p4nrU\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__9mYNC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2kvhd\",\"Modal\":\"Modal_Modal__3LDNJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1FpA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1BF4U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1-3ou\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1ZFkr\",\"SearchForm\":\"SearchBar_SearchForm__2ZwT2\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3YcYk\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__jgt32\",\"SearchFormInput\":\"SearchBar_SearchFormInput__--x7v\"};","import axios from 'axios';\r\n\r\nconst fetchImg = ({ query = \"\", pageNumber = 1 }) => {\r\n  const url = `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=22968189-f518494d66d88c5d71c698a06&image_type=photo&orientation=horizontal&per_page=12`\r\n  \r\n   return axios.get(url).then(({ data }) => data.hits);\r\n    // .then((res) => res.json())\r\n    // .then((data) => data.hits);\r\n};\r\n\r\nexport default fetchImg;","import { useState} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport styles from \"./SearchBar.module.css\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst Searchbar = ({onSubmit}) => {\r\n  // state = {\r\n  //   SearchName: \"\",\r\n  // };\r\n const [query, setQuery] = useState('')\r\n\r\n const handleNameChange = ({currentTarget}) => {\r\n    // this.setState({ SearchName: event.currentTarget.value.toLowerCase() });\r\n\r\n    setQuery(currentTarget.value)\r\n  };\r\n\r\n const handleSubmit = (e) => {\r\n   e.preventDefault();\r\n   \r\n    if (query.trim() === \"\") {\r\n      toast.error(\"Wow so easy!\");\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery('')\r\n  };\r\n \r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            \r\n            \r\n            value={query}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n     \r\n    );\r\n  }\r\n\r\n\r\nexport default Searchbar;","import styles from \"./ImageGalleryItem.module.css\";\r\n\r\n const ImageGalleryItem = ({ largeImageURL, openModal, webformatURL }) => {\r\n  return (\r\n    <li onClick={() => openModal(largeImageURL)} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\n\r\nexport default ImageGalleryItem","import React, { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\nconst MODAL_ROOT = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onCloseModal, children }) => {\r\n   \r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyPress);\r\n  \r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyPress);\r\n    }\r\n  })\r\n  // backdropRef = createRef();\r\n\r\n  const handleKeyPress = (e) => {\r\n    // console.log(e);\r\n\r\n    if (e.code !== \"Escape\") {\r\n      onCloseModal();\r\n    }\r\n    \r\n  };\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onCloseModal();\r\n    }\r\n\r\n   \r\n  };\r\n\r\n  \r\n  // const { children } = this.props;\r\n  return createPortal(\r\n    <div\r\n      className={styles.Overlay}\r\n      \r\n      onClick={handleBackdropClick}\r\n      role=\"presentation\">\r\n    \r\n      <div className={styles.Modal}>{children}</div>\r\n    </div>,\r\n    MODAL_ROOT\r\n  );\r\n}\r\n\r\n\r\nexport default Modal","import React from \"react\";\r\n\r\nconst Loader = () => <div></div>;\r\n\r\nexport default Loader;","import Loader from '../Loader/Loader';\r\nimport React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick, isLoading }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={onClick} >\r\n    <Loader\r\n        \r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={20}\r\n        width={20}\r\n        visible={isLoading}\r\n      />\r\n   {isLoading ? 'Загружаем...' : 'Load more'}\r\n  </button>\r\n);\r\n\r\nexport default Button;","import { useState} from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.js\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport Modal from '../Modal/Modal';\r\nimport Button from \"../Button/Button.js\";\r\n\r\nconst ImageGallery = ({ images, query, pageNumber, error, isLoading, fetchImages }) => {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState(null);\r\n  \r\n\r\n  const toggleModal = () => {\r\n    setIsModalOpen(prev => !prev);\r\n    setLargeImageURL(null)\r\n\r\n  }\r\n  const openModal = url => {\r\n  \r\n    toggleModal()\r\n    setLargeImageURL(url)\r\n}\r\n  return (\r\n    <>\r\n       {error && <h2>{error}</h2>}\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem openModal={openModal} key={id} webformatURL={webformatURL} largeImageURL={largeImageURL} />\r\n      ))}\r\n      </ul>\r\n      {images.length > 0 && <Button onClick={fetchImages} isLoading={isLoading} />}\r\n      {isModalOpen && (\r\n        <Modal onCloseModal={toggleModal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>)}\r\n      </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;","import { useState, useEffect} from \"react\";\nimport fetchImg from \"./services/image-api\";\nimport Searchbar from \"./components/SearchBar/SearchBar\";\nimport { ToastContainer } from \"react-toastify\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery.js\";\n\nimport styles from \"./App.module.css\";\n\n\n\n\n\n// const fetchImg = (query = \"\", pageNumber = 1) => {\n//   return fetch(\n//     `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=22968189-f518494d66d88c5d71c698a06&image_type=photo&orientation=horizontal&per_page=12`\n//   )\n//     .then((res) => res.json())\n//     .then((data) => data.hits);\n// };\n\nconst App = () =>  {\n \nconst [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  \n  const [pageNumber, setPageNumber] = useState(1);\n  const [isLoading, setIsloading] = useState(false);\n  const [error, setError] = useState('');\n  \n  useEffect(() => {\n    if (query) {\n    fetchImages()\n    }\n  }, [query]);   \n   \n  \n\n   useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n\n const handleSearchSubmit = query => {\n     setQuery(query);\n   setImages([]);\n   setPageNumber(1);\n   setError(null);\n\n };\n  \n  const fetchImages = () => {\n    \n    const options = {\n      query,\n      pageNumber,\n    };\n      setIsloading(true)\n \n    fetchImg(options).then(\n      images =>\n        \n        setImages(prevState => [...prevState, ...images]),\n         setPageNumber(prevState => prevState + 1), \n       \n          \n        ).catch(err => \n       setError(err)).finally(() => setIsloading(false))\n      \n      \n      \n      };   \n  \n\n  return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={handleSearchSubmit} />\n        <ImageGallery images={images} query={query} pageNumber={pageNumber} error={error} isLoading={isLoading} fetchImages={fetchImages} />\n        \n        \n <ToastContainer />\n      \n       \n        \n      </div>\n    );\n  \n}\n\nexport default App;\n  \n\n  \n        \n      \n      \n      \n      \n\n\n\n    ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}